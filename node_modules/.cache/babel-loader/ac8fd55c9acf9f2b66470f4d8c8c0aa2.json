{"ast":null,"code":"import _slicedToArray from\"/Users/bottlecapmedia/Desktop/Applications/oneshotdash/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Cards from'../Components/Cards/Cards';import Header from'../Header/Header';import'../Pages/Pages.css';/**\n* @author\n* @function Dashboard\n**/import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Dashboard=function Dashboard(props){var _useState=useState({total:0,vh_total:0,data:[]}),_useState2=_slicedToArray(_useState,2),total=_useState2[0],setTotal=_useState2[1];useEffect(function(){fetch(\"https://osParking.pythonanywhere.com/today-visitors?lot=\".concat(props.match.params.lot),{method:'GET',mode:'cors',headers:{'Access-Control-Allow-Origin':'*','Content-Type':'application/json'}}).then(function(response){return response.json();}).then(function(resp){if(!null){console.log(resp);setTotal({total:resp.total,vh_total:resp.counted,data:resp.data});}});},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{title:'Dashboard'}),/*#__PURE__*/_jsxs(\"div\",{className:\"analytical_section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sort_cards\",children:[/*#__PURE__*/_jsx(Cards,{type:\"bar\"}),/*#__PURE__*/_jsx(Cards,{type:\"occupancy\",vhTotal:total.vh_total}),/*#__PURE__*/_jsx(\"div\",{style:{width:'30%'}}),/*#__PURE__*/_jsx(Cards,{type:\"liveVisitors\",data_:total.data})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sort_cards\",children:[/*#__PURE__*/_jsx(Cards,{type:\"dailySpend\",total:total.total}),/*#__PURE__*/_jsx(Cards,{type:\"payments\"}),/*#__PURE__*/_jsx(\"div\",{style:{width:'30%'}})]})]})]});};export default Dashboard;","map":{"version":3,"sources":["/Users/bottlecapmedia/Desktop/Applications/oneshotdash/src/Pages/Dashboard.js"],"names":["React","useEffect","useState","Cards","Header","Dashboard","props","total","vh_total","data","setTotal","fetch","match","params","lot","method","mode","headers","then","response","json","resp","console","log","counted","width"],"mappings":"6KAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,2BAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,CACA,MAAO,oBAAP,CAEA;AACA;AACA;AACA,G,wFAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,KAAD,CAAW,CAC7B,cAA0BJ,QAAQ,CAAC,CACjCK,KAAK,CAAE,CAD0B,CAEjCC,QAAQ,CAAE,CAFuB,CAGjCC,IAAI,CAAE,EAH2B,CAAD,CAAlC,wCAAOF,KAAP,eAAcG,QAAd,eAMAT,SAAS,CAAC,UAAI,CACdU,KAAK,mEAA4DL,KAAK,CAACM,KAAN,CAAYC,MAAZ,CAAmBC,GAA/E,EAAsF,CAC3FC,MAAM,CAAE,KADmF,CAE3FC,IAAI,CAAE,MAFqF,CAG3FC,OAAO,CAAC,CACR,8BAA8B,GADtB,CAER,eAAgB,kBAFR,CAHmF,CAAtF,CAAL,CAOGC,IAPH,CAOQ,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAPhB,EAQCF,IARD,CAQM,SAAAG,IAAI,CAAG,CACX,GAAG,CAAC,IAAJ,CAAS,CACPC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACAX,QAAQ,CAAC,CACPH,KAAK,CAAEc,IAAI,CAACd,KADL,CAEPC,QAAQ,CAAEa,IAAI,CAACG,OAFR,CAGPf,IAAI,CAAEY,IAAI,CAACZ,IAHJ,CAAD,CAAR,CAKD,CACF,CAjBD,EAkBC,CAnBQ,CAmBN,EAnBM,CAAT,CAqBE,mBACE,oCACE,KAAC,MAAD,EAAQ,KAAK,CAAE,WAAf,EADF,cAEE,aAAK,SAAS,CAAC,oBAAf,wBACE,aAAK,SAAS,CAAC,YAAf,wBACE,KAAC,KAAD,EAAO,IAAI,CAAC,KAAZ,EADF,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,WAAZ,CAAwB,OAAO,CAAEF,KAAK,CAACC,QAAvC,EAFF,cAGE,YAAK,KAAK,CAAE,CAACiB,KAAK,CAAE,KAAR,CAAZ,EAHF,cAIE,KAAC,KAAD,EAAO,IAAI,CAAC,cAAZ,CAA2B,KAAK,CAAElB,KAAK,CAACE,IAAxC,EAJF,GADF,cAOE,aAAK,SAAS,CAAC,YAAf,wBACE,KAAC,KAAD,EAAO,IAAI,CAAC,YAAZ,CAAyB,KAAK,CAAEF,KAAK,CAACA,KAAtC,EADF,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,EAFF,cAGE,YAAK,KAAK,CAAE,CAACkB,KAAK,CAAE,KAAR,CAAZ,EAHF,GAPF,GAFF,GADF,CAmBD,CA/CD,CAiDA,cAAepB,CAAAA,SAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport Cards from '../Components/Cards/Cards'\nimport Header from '../Header/Header'\nimport '../Pages/Pages.css'\n\n/**\n* @author\n* @function Dashboard\n**/\n\nconst Dashboard = (props) => {\nconst [total, setTotal] = useState({\n  total: 0, \n  vh_total: 0, \n  data: []\n})\n\nuseEffect(()=>{\nfetch(`https://osParking.pythonanywhere.com/today-visitors?lot=${props.match.params.lot}`, {\nmethod: 'GET',\nmode: 'cors',\nheaders:{\n'Access-Control-Allow-Origin':'*',\n'Content-Type': 'application/json'\n}\n}).then(response => response.json())\n.then(resp =>{\n  if(!null){\n    console.log(resp)\n    setTotal({\n      total: resp.total, \n      vh_total: resp.counted, \n      data: resp.data\n    })\n  }\n})\n}, [])\n\n  return (\n    <div>\n      <Header title={'Dashboard'}/>\n      <div className=\"analytical_section\">\n        <div className='sort_cards'>\n          <Cards type='bar'/>\n          <Cards type='occupancy' vhTotal={total.vh_total}/>\n          <div style={{width: '30%'}}></div>\n          <Cards type='liveVisitors' data_={total.data}/>\n        </div>\n        <div className='sort_cards'>\n          <Cards type='dailySpend' total={total.total} />\n          <Cards type='payments'/>\n          <div style={{width: '30%'}}></div>\n        </div>\n      </div>\n    </div>\n  )\n\n}\n\nexport default Dashboard"]},"metadata":{},"sourceType":"module"}